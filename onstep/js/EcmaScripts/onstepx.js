(()=>{"use strict";function t(){return Array.from(arguments).reduce(((t,e)=>+t+ +e),0)}function e(t,e){return+t-+e}function o(){return Array.from(arguments).reduce(((t,e)=>+t*+e),1)}function r(t,e){return+t/+e}const n=new class{pad(t){return`${t}`.padStart(2,"0")}raDegreesToHourMinutesSeconds(e){const n=r(e<0?t(e,360):e,15),s=Math.floor(n)%24,u=o(this.getFraction(n),60);return{hours:s,minutes:Math.floor(u),seconds:+Number(o(this.getFraction(u),60)).toFixed(2)}}decDegreesToHourMinutesSeconds(t){const e=t,r=+`${e}`.split(".")[0],n=o(this.getFraction(e),60);return{hours:r,minutes:Math.floor(n),seconds:+Number(o(this.getFraction(n),60)).toFixed(2)}}hoursMinutesSeconds(r){let n=Math.floor(r);n=n<0?t(24,n):n,n=n>24?n%24:n;const s=o(60,this.getFraction(r));let u=Math.floor(s),i=Math.round(o(60,e(s,u)));return i>=60&&(i=0,u++),u>=60&&(u=0,n++),n>=24&&(n%=24),`${n}:${this.pad(u)}:${this.pad(i)}`}degreeHHMMSSToDegrees(e,o,n){return t(e,r(o,60),r(n,3600))}mapTo24Hour(t){let n=t;return n<0?n=e(n,o(24,e(r(n,24),1))):t>=24&&(n=e(n,o(r(n,24),24))),n}getFraction(o){const r=e(o,Math.floor(o));return r<0?t(r,1):r}},s=Date.UTC(2e3,0,1,12,0,0,0),u=2451545;new class{toUTC(t){return{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),hours:t.getUTCHours(),minutes:t.getUTCMinutes(),seconds:t.getUTCSeconds(),milliseconds:t.getUTCMilliseconds()}}toJulian(n){const{year:s,month:u,date:i,hours:a,minutes:c,seconds:T}=n;let l=t(u,1),g=s,h=t(a,r(c,60),r(T,3600));l<=2&&(l=t(l,12),g=e(g,1));Math.floor(r(g,100));const d=Math.floor(o(365.25,t(g,4716))),m=Math.floor(o(30.6001,t(l,1))),M=t(e(e(t(d,m,i),13),1524.5),r(h,24));return Number(M).toFixed(6)}toJulianLT(o){const n=r(e(o.getTime(),s),864e5),i=t(u,n);return Number(i).toFixed(6)}toGMST(n){const s=e(n,2400000.5),u=Math.floor(s),i=r(e(u,51544.5),36525),a=o(e(.093104,o(62e-7,i)),i),c=o(t(8640184.812866,a),r(i,3600));return Number(t(6.697374558,o(24,e(s,u),1.0027379093),c)).toFixed(6)}toGMST2(n){const s=e(n,u),i=r(s,36525),a=o(Math.pow(i,2),387933e-9),c=r(Math.pow(i,3),3871e4),T=e(t(280.46061837,o(s,360.98564736629),a),c);return Number(T%360).toFixed(6)}gmstToLST(e,s){return Number(o(24,n.getFraction(r(t(e,r(s,15)),24)))).toFixed(6)}gmstToLST2(e,o){const r=o<0?t(360,o):o,n=t(e,r)%360;return Number(n).toFixed(6)}lstDecimalToLstDecimalHours(t){return r(t/15)}isDST(t){const e=new Date(t.getFullYear(),0,1).getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset();return Math.max(e,o)!==t.getTimezoneOffset()}utcToLST(t,e){const o=this.toJulian(t),r=this.toGMST(o);return this.gmstToLST(r,e)}calculateLST(s,i){const a=e(t(r(s.getTime(),864e5),2440587.5),u),c=t(s.getUTCHours(),r(s.getUTCMinutes(),60),r(s.getUTCSeconds(),3600)),T=t(6.697374558,o(.06570982441908,a),o(1.00273790935,c));return o(24,n.getFraction(r(t(T,r(i,15)),24)))}}})();
